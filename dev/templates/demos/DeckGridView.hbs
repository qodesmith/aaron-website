<style>
  .grid {
    width: 80vw;
    height: 80vw;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
            flex-wrap: wrap;
    border-left: 1px solid turquoise;
    border-top: 1px solid turquoise;
    cursor: pointer;
  }
  .square {
    position: relative;
    box-sizing: border-box;
    border-right: 1px solid turquoise;
    border-bottom: 1px solid turquoise;
    width: 1vw;
    height: 1vw;
  }
  .instructions {
    padding: 10px;
    background: white;
    cursor: pointer;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
  }
  .legend {
    width: 200px;
    height: 100vh;
    position: fixed;
    top: 0;
    right: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-justify-content: space-around;
        -ms-flex-pack: distribute;
            justify-content: space-around;
    -webkit-flex-direction: row;
        -ms-flex-direction: row;
            flex-direction: row;
    -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
            flex-wrap: wrap;
  }
  .legend-item {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-justify-content: center;
        -ms-flex-pack: center;
            justify-content: center;
    width: 60px;
    height: 60px;
    margin: 10px;
    background: white;
    box-sizing: border-box;
    text-align: center;
    position: relative;
    cursor: pointer;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
  }
  .structure,
  .grass {
    border-color: rgba(0, 0, 0, 0.15);
    cursor: not-allowed;
  }
  .house,
  .garage {
    background: gray;
  }
  .neighbor {
    background: darkgray;
  }
  .grass {
    background: lightgreen;
  }
  .angle:after {
    content: '';
    border-right: .5vw solid lightgreen;
    border-bottom: .5vw solid lightgreen;
    border-left: .5vw solid transparent;
    border-top: .5vw solid transparent;
    width: 0px;
    height: 0px;
    position: absolute;
  }
  .current-item:before {
    content: '';
    position: absolute;
    width: 80px;
    height: 80px;
    top: -15px;
    left: -15px;
    border: 5px solid turquoise;
  }
  #pole,
  .pole {
    background: green;
    color: white;
  }
  #beam-top:after,
  #beam-bottom:after {
    content: '';
    position: absolute;
    left: 0px;
    width: 60px;
    height: 7px;
    background: rgba(0, 0, 0, 0.3);
  }
  #beam-top:after {
    top: 0px;
  }
  #beam-bottom:after {
    bottom: 0px;
  }
  .beam-top {
    border-top: 1px solid black;
  }
  .beam-bottom {
    border-bottom: 1px solid black;
  }
  #double-team:after,
  #double-top:after,
  #double-bottom:after,
  #double-beam:after {
    content: '';
    position: absolute;
    top: 0px;
    left: 0px;
    width: 60px;
    height: 60px;
    box-sizing: border-box;
    border-left: 7px solid rgba(0, 0, 0, 0.3);
    border-right: 7px solid rgba(0, 0, 0, 0.3);
  }
  #double-top:after {
    border-top: 7px solid rgba(0, 0, 0, 0.3);
  }
  #double-bottom:after {
    border-bottom: 7px solid rgba(0, 0, 0, 0.3);
  }
  .double-beam,
  .double-top,
  .double-bottom {
    border-left: 1px solid black;
    border-right: 1px solid black;
  }
  .double-top {
    border-top: 1px solid black;
  }
  .double-bottom {
    border-bottom: 1px solid black;
  }
  .double-beam:after,
  .double-top:after,
  .double-bottom:after {
    content: '';
    width: 1px;
    height: 16px;
    position: absolute;
    left: 6px;
    background: black;
  }
  .modal {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 3;
    background: rgba(0, 0, 0, 0.6);
    display: none;
  }
  .modal h2 {
    font-size: 24px;
  }
  .modal-content {
    width: 500px;
    background: white;
    border: 3px solid black;
    border-radius: 15px;
    position: relative;
    margin: 0 auto;
    top: 50%;
    -webkit-transform: translateY(-50%);
            transform: translateY(-50%);
    text-align: center;
    padding: 30px;
  }
  .modal-close {
    position: absolute;
    color: black;
    background: white;
    border: 2px solid black;
    border-radius: 50%;
    width: 25px;
    height: 25px;
    top: -14px;
    right: -14px;
    cursor: pointer;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-justify-content: center;
        -ms-flex-pack: center;
            justify-content: center;
    box-shadow: -3px 3px 5px rgba(0, 0, 0, 0.5);
    font-size: 20px;
    font-weight: bold;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
  }
  #create-length-modal h2 {
    margin: 10px 0;
  }
  #create-length-modal input,
  #create-obj-modal input {
    text-align: center;
    font-size: 20px;
  }
  .radios {
    display: inline-block;
    text-align: left;
  }
  #error,
  #load-error {
    color: red;
  }
  textarea {
    display: block;
    margin: 0 auto;
    letter-spacing: 1px;
  }
  button {
    display: block;
    margin: 30px auto 10px;
    font-size: 16px;
    cursor: pointer;
    padding: 10px 25px;
  }
  #download-link {
    display: none;
    margin: 30px 0;
    font-size: 16px;
  }
  .length,
  .object {
    background: rgba(0, 50, 150, 0.2);
    position: absolute;
    left: 50%;
    top: 50%;
    z-index: 2;
    box-sizing: border-box;
    text-align: center;
    cursor: pointer;
    border-left: 3px solid black;
    border-right: 3px solid black;
    -webkit-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
    cursor: all-scroll;
  }
  .object {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-direction: column;
        -ms-flex-direction: column;
            flex-direction: column;
    -webkit-justify-content: space-around;
        -ms-flex-pack: distribute;
            justify-content: space-around;
    background: rgba(0, 0, 0, 0.2);
    z-index: 1;
    border: 3px solid rgba(255, 0, 0, 0.6);
  }
  .object span {
    margin: 10px;
  }
  .vertical {
    -webkit-transform: translate(-50%, -50%) rotate(90deg);
            transform: translate(-50%, -50%) rotate(90deg);
  }
  #import-button {
    margin-top: 15px;
  }
  /* Remove the blue outline in some browsers. */
  button:focus,
  button:active:focus,
  input:focus,
  input:active:focus,
  textarea:focus,
  textarea:active:focus {
    outline: 3px solid rgba(0, 0, 0, 0.5);
  }
  input[type="radio"]:focus,
  input[type="radio"]:active:focus {
    outline: none;
  }
  /* Hide the (ugly) file input field and use a button
  plus JavaScript to trigger the field instead. */
  input[type="file"] {
    display: none;
  }
</style>

<div class="container">
  <div class="grid"></div>
</div>

<!-- LEGEND -->
<div class="legend">
  <div class="instructions">INSTRUCTIONS</div>
  <div class="legend-item" id="pole">4x4</div>
  <div class="legend-item" id="delete">Delete O or L</div>
  <div class="legend-item" id="create-length">Create Length</div>
  <div class="legend-item" id="create-object">Create Object</div>
  <div class="legend-item" id="beam-top">Beam Top</div>
  <div class="legend-item" id="beam-bottom">Beam Bottom</div>
  <div class="legend-item" id="double-top">Double Top</div>
  <div class="legend-item" id="double-beam">Double Beam</div>
  <div class="legend-item" id="double-bottom">Double Bottom</div>
  <div class="legend-item" id="reset">Reset</div>
  <div class="legend-item" id="save-layout">Save Layout</div>
  <div class="legend-item" id="load-layout">Load Layout</div>
</div>

<!-- SAVE -->
<div class="modal" id="save-modal">
  <div class="modal-content">
    <div class="modal-close">&times;</div>
    <h2>Save layout to a text file</h2>
    <textarea name="" id="view-JSON" cols="60" rows="8"></textarea>
    <button id="save-button">SAVE</button>
    <a download="deck.txt" id="download-link">Download</a>
  </div>
</div>

<!-- LOAD -->
<div class="modal" id="load-modal">
  <div class="modal-content">
    <div class="modal-close">&times;</div>
    <textarea name="" id="paste-JSON" cols="70" rows="12"></textarea>
    <button id="import-button">IMPORT FILE</button>
    <input type="file" id="import"></input>
    <button id="load">LOAD</button>
    <div id="load-error"></div>
  </div>
</div>

<!-- CREATE LENGTH -->
<div class="modal" id="create-length-modal">
  <div class="modal-content">
    <div class="modal-close">&times;</div>
    <h2>Length in feet:</h2>
    <input type="number" id="length-feet">
    <h2>Length in inches:</h2>
    <input type="number" id="length-inches">
    <h2>Vertical or horizontal?</h2>
    <div class="radios">
      <input type="radio" name="direction" value="horizontal">Horizontal
      <input type="radio" name="direction" value="vertical">Vertical<br>
    </div>
    <button id="create-len">Create</button>
    <div id="error"></div>
  </div>
</div>

<!-- CREATE OBJECT -->
<div class="modal" id="create-obj-modal">
  <div class="modal-content">
    <div class="modal-close">&times;</div>
    <h2>Length feet: <input type="number" id="obj-length-feet"></h2>
    <h2>Length inches: <input type="number" id="obj-length-inches"></h2>
    <h2>Width feet: <input type="number" id="obj-width-feet"></h2>
    <h2>Width inches: <input type="number" id="obj-width-inches"></h2>
    <button id="create-obj">Create</button>
  </div>
</div>